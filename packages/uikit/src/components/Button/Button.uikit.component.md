# Button Component

## Описание компонента

`Button` - это React компонент кнопки, обернутый в `memo` для оптимизации производительности.

## Расположение файлов

- Компонент: `packages/uikit/src/components/Button/Button.tsx`
- Стили: `packages/uikit/src/components/Button/Button.module.css`

## Интерфейс IButtonProps

Компонент принимает следующие пропсы:

- `children: ReactNode` (обязательный) - содержимое кнопки (текст, иконки, другие элементы)
- `onClick: VoidFunction` (обязательный) - функция-обработчик клика по кнопке
- `className?: string` (опциональный) - дополнительный CSS класс для кастомизации стилей
- `disabled?: boolean` (опциональный) - флаг отключения кнопки

## Реализация

Компонент рендерит HTML элемент `<button>` со следующими особенностями:

1. Использует `clsx` для объединения CSS классов
2. Применяет базовый класс `classes.button` из CSS модуля
3. Добавляет переданный `className` если он указан
4. Добавляет класс `classes.disabled` когда `disabled === true`
5. Передает атрибут `disabled` в нативный элемент button
6. Вызывает `onClick` при клике на кнопку

## Тест-кейсы для генерации тестов

### 1. Рендеринг компонента

**Тест:** Компонент должен успешно рендериться с минимальными обязательными пропсами
- Передать `children` (например, строку "Click me")
- Передать `onClick` (mock функцию)
- Проверить, что кнопка отрендерилась в DOM
- Проверить, что текст "Click me" присутствует в кнопке

### 2. Обработка клика

**Тест:** При клике на кнопку должна вызываться функция onClick
- Создать mock функцию для `onClick`
- Отрендерить компонент с этой функцией
- Симулировать клик по кнопке
- Проверить, что `onClick` была вызвана ровно 1 раз

### 3. Отключенное состояние (disabled)

**Тест 3.1:** Кнопка с `disabled={true}` должна иметь атрибут disabled
- Отрендерить компонент с `disabled={true}`
- Проверить, что HTML элемент button имеет атрибут `disabled`

**Тест 3.2:** Кнопка с `disabled={true}` должна иметь CSS класс disabled
- Отрендерить компонент с `disabled={true}`
- Проверить, что элемент содержит класс соответствующий `classes.disabled`

**Тест 3.3:** Клик по отключенной кнопке не должен вызывать onClick
- Создать mock функцию для `onClick`
- Отрендерить компонент с `disabled={true}`
- Попытаться кликнуть по кнопке
- Проверить, что `onClick` НЕ была вызвана (из-за нативного поведения disabled)

### 4. Кастомный className

**Тест:** Компонент должен применять переданный className
- Отрендерить компонент с `className="custom-class"`
- Проверить, что элемент button содержит класс "custom-class"
- Проверить, что базовый класс `classes.button` также присутствует

### 5. Различные типы children

**Тест 5.1:** Компонент должен рендерить текстовый children
- Передать строку как children
- Проверить, что текст отображается

**Тест 5.2:** Компонент должен рендерить JSX элементы как children
- Передать JSX элемент (например, `<span>Text</span>`) как children
- Проверить, что элемент отрендерился внутри кнопки

**Тест 5.3:** Компонент должен рендерить множественные children
- Передать несколько элементов как children (например, иконку и текст)
- Проверить, что все элементы присутствуют в кнопке

### 6. Мемоизация (React.memo)

**Тест:** Компонент не должен ре-рендериться при неизменных пропсах
- Отрендерить компонент с определенными пропсами
- Сохранить ссылку на отрендеренный элемент
- Ре-рендерить родительский компонент с теми же пропсами
- Проверить, что компонент Button не перерендерился (используя React Testing Library или проверку количества рендеров)

### 7. Комбинированные сценарии

**Тест 7.1:** Кнопка с className и disabled одновременно
- Отрендерить компонент с `className="custom"` и `disabled={true}`
- Проверить наличие всех трех классов: базового, custom и disabled

**Тест 7.2:** Изменение состояния disabled
- Отрендерить компонент с `disabled={false}`
- Проверить отсутствие атрибута disabled
- Обновить пропс на `disabled={true}`
- Проверить наличие атрибута disabled и класса disabled

## Важные замечания для тестирования

1. Использовать **Playwright Component Testing** (`@playwright/experimental-ct-react`) для изолированного тестирования компонента
2. Компонент монтируется и тестируется в изоляции без необходимости полного приложения
3. Использовать `mount()` для рендеринга компонента в тесте
4. Для проверки вызовов функций передавать mock функции как пропсы и отслеживать их вызовы
5. При проверке CSS классов использовать Playwright локаторы и методы `getAttribute()`, `evaluate()` для получения classList
6. Тесты должны быть изолированными - каждый тест монтирует компонент заново
7. Использовать `locator()` для поиска элементов кнопки после монтирования
8. Для симуляции кликов использовать `click()` метод Playwright
9. Проверки выполнять через `expect()` из `@playwright/experimental-ct-react`
10. Компонент рендерится в реальном браузере, но изолированно от остального приложения
